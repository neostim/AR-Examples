
<!DOCTYPE html>
<html>
   <head>
      <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.5.2/mediapipe-pose.js"></script>
      <script>
         AFRAME.registerComponent('markerhandler', {
             init: function() {
                 this.marker = this.el;
                 this.model = document.querySelector('#model');
                 this.marker.object3D.visible = false;
                 this.el.sceneEl.addEventListener('markerFound', () => {
                     this.marker.object3D.visible = true;
                 });
                 this.el.sceneEl.addEventListener('markerLost', () => {
                     this.marker.object3D.visible = false;
                 });
             },
             tick: function() {
                 if (this.marker.object3D.visible) {
                     this.model.object3D.position.copy(this.marker.object3D.position);
                     this.model.object3D.quaternion.copy(this.marker.object3D.quaternion);
                 }
             }
         });
      </script>
   </head>
   <body>
      <a-scene embedded>
         <a-marker type='pattern' url='models/pattern-marker.png' markerhandler></a-marker>
         <a-entity id='model' gltf-model='models/assembly.gltf' scale='1 1 1'></a-entity>
         <a-entity camera look-controls wasd-controls position='0 1.6 0'></a-entity>
      </a-scene>
   </body>
</html>
